@use 'sass:color'

@use '@styles/useless/useless'
@import '@styles/vars/colors'

.header
  display: flex
  justify-content: center
  align-items: center
  padding: 0 140px
  background-color: white
  color: $color-additional-fg
  box-shadow: 0 10px 20px 0 color.adjust($color-title-fg, $alpha: -0.95)
  box-sizing: border-box

  @media (max-width: 1170px)
    position: sticky
    top: 0
    z-index: 1000
    padding: 0 10px

  &_for-authorized-user

    & .header__container
      grid-template-columns: min-content 1fr auto max-content

      @media (max-width: 1170px)
        grid-template-columns: auto 1fr max-content

      @media (max-width: 420px)
        grid-template-columns: min-content 1fr auto max-content

    & .header__sign-in-button, & .header__reg-button
      display: none

    & .header__separator
      display: initial

      @media (max-width: 1170px)
        display: none

    & .header__user-name
      display: initial

      @media (max-width: 1170px)
        grid-row: 1
        grid-column: -2

  &__container
    display: grid
    grid-template-columns: min-content 1fr 87px 196px
    align-items: center
    column-gap: 20px
    width: min(1920px, 100%)
    height: 70px
    box-sizing: border-box

    @media (max-width: 1170px)
      grid-template-columns: auto 1fr 86px 196px
      grid-template-rows: auto auto
      padding: 15px 10px
      height: auto

    @media (max-width: 420px)
      grid-template-columns: auto 1fr 86px 
      column-gap: 10px

  &__burger
    @include useless.button-common-styles
    display: none

    @media (max-width: 1170px)
      display: flex

      & ~ .header__menu
        display: none

      &_pressed 

        & ~ .header__menu
          display: flex

      &:hover .svg-burger, &:focus .svg-burger
        opacity: 0.75

  &__logo
    display: flex
    align-items: center
    column-gap: 12.5px
    outline: none

    @media (max-width: 1170px)
      grid-column: 2
      justify-self: center

    &:focus, &:hover

      & .header__main-logo .svg-logo__circle
        fill: url(#logo__circle-gradient-focus)

  &__main-logo
    display: flex

  &__toxin
    display: flex

    @media (max-width: 1170px)
      display: none

  &__menu
    display: flex
    gap: 20px
    margin-left: auto
    margin-right: 10px
    padding: 0
    list-style: none

    @media (max-width: 1170px)
      grid-column: 1 / -1
      flex-direction: column
      margin-left: 0
      gap: 0

    &-item
      display: flex
      align-items: center

    &-expandable-item
      position: relative

    &-button
      @include useless.button-common-styles
      color: $color-additional-fg
      display: flex
      column-gap: 5px
      align-items: stretch

      &_pressed 

        & ~ .header__sub-menu
          display: flex

      &:hover, &:focus

        & .header__menu-button-caption
          color: $color-main-fg

        & .header__menu-button-icon .svg-expand-icon
          opacity: .75

      @media (max-width: 1170px)
        width: 100%
        padding: 10px 4px

        &:hover, &:focus
          background-color: color.adjust($color-title-fg, $lightness: 74%)

    &-button-icon
      display: flex
      align-items: center

    &-link
      width: max-content
      text-decoration: none
      background-color: #fff
      color: $color-additional-fg 
      box-sizing: border-box
      outline: none

      &:hover, &:focus
        color: $color-main-fg

      &_important
        @include useless.font-type($weight: bold, $color: $color-main-fg)

        &:hover, &:focus
          color: $color-title-fg

      @media (max-width: 1170px)
        width: 100%
        padding: 10px 4px

        &:hover, &:focus
          background-color: color.adjust($color-title-fg, $lightness: 74%)

  &__sub-menu
    position: absolute
    display: none
    margin-top: 5px
    min-width: 100%
    width: max-content
    flex-direction: column
    background-color: $color-unclaimed-fg
    z-index: 1
    box-shadow: 1px 2px 1px 1px color.adjust($color-title-fg, $alpha: -0.95)
    padding: 0
    list-style: none

    @media (max-width: 1170px)
      position: initial

      & .header__menu-item
        padding: 0

    & .header__menu-link
      width: 100%
      outline: none
      padding: 5px

      &:hover, &:focus
        background-color: color.adjust($color-title-fg, $lightness: 74%)

  &__sign-in-button
    height: 34px
    overflow: hidden

    @media (max-width: 1170px)
      grid-row: 1
      grid-column: 3

  &__reg-button
    height: 34px
    overflow: hidden

    @media (max-width: 1170px)
      grid-row: 1
      grid-column: 4

    @media (max-width: 420px)
      display: none

  &__separator
    display: none
    width: 1px
    height: 30px
    background-color: color.adjust($color-title-fg, $alpha: -0.9)

  &__user-name
    display: none
    text-decoration: none
    color: $color-additional-fg
    outline: none

    &:hover, &:focus
      color: $color-main-fg

