@use 'sass:color'

@use '@styles/useless/useless'
@import '@styles/vars/colors'

.header
  display: flex
  justify-content: center
  align-items: center
  background-color: white
  padding: 0 10px
  color: $color-additional-fg

  &_for-authorized-user

    & .header__container
      grid-template-columns: min-content 1fr auto max-content
    

    & .header__sign-in-button, & .header__reg-button
      display: none

    & .header__separator
      display: initial

    & .header__user-name
      display: initial

  &__container
    display: grid
    grid-template-columns: min-content 1fr 87px 196px
    align-items: center
    column-gap: 20px
    width: min(1440px, 100%)
    height: 70px
    box-sizing: border-box

  &__burger
    @include useless.button-common-styles
    display: none

  &__logo
    display: flex
    align-items: center
    column-gap: 12.5px
    outline: none

    &:focus, &:hover

      & .header__main-logo .svg-logo__circle, & .svg-logo__left-petal
        fill: url(#gradient_focus)

      & .header__main-logo .svg-logo__right-petal
        fill: url(#secondary_gradient_focus)

  &__main-logo
    display: flex

  &__toxin
    display: flex

  &__menu
    display: flex
    gap: 20px
    margin-left: auto
    padding: 0
    list-style: none

  &__menu-item
    display: flex
    align-items: center
    min-width: max-content

  &__menu-expandable-item
    width: min-content
    position: relative

  &__menu-button
    @include useless.button-common-styles
    color: $color-additional-fg
    display: flex
    column-gap: 5px
    align-items: stretch

    &_pressed 

      & ~ .header__sub-menu
        display: flex

    &:hover, &:focus

      & .header__menu-button-caption
        color: $color-main-fg

      & .header__menu-button-icon .svg-expand-icon
        opacity: .75

  &__menu-button-icon
    display: flex
    align-items: center

  &__sub-menu
    position: absolute
    display: none
    margin-top: 5px
    min-width: 100%
    width: max-content
    flex-direction: column
    background-color: $color-unclaimed-fg
    z-index: 1
    box-shadow: 1px 2px 1px 1px color.adjust($color-title-fg, $alpha: -0.95)
    padding: 0
    list-style: none

    & .header__menu-link
      width: 100%
      outline: none
      padding: 5px

      &:hover, &:focus
        background-color: color.adjust($color-title-fg, $lightness: 74%)

  &__menu-link
    width: max-content
    text-decoration: none
    background-color: #fff
    color: $color-additional-fg 
    box-sizing: border-box
    outline: none

    &:hover, &:focus
      color: $color-main-fg

    &_important
      font-weight: bold
      color: $color-main-fg

      &:hover, &:focus
        color: $color-title-fg

  &__sign-in-button, &__reg-button
    height: 34px

  &__separator
    display: none
    width: 1px
    height: 30px
    background-color: color.adjust($color-title-fg, $alpha: -0.9)

  &__user-name
    display: none
    text-decoration: none
    color: $color-additional-fg
    outline: none

    &:hover, &:focus
      color: $color-main-fg

@media (max-width: 1000px)
  .header

    &_for-authorized-user
      
      & .header__container
        grid-template-columns: auto 1fr max-content

      & .header__sign-in-button
        display: none

      & .header__separator
        display: none

      & .header__user-name
        grid-row: 1
        grid-column: -2

    &__container
      grid-template-columns: auto 1fr 87px
      grid-template-rows: auto auto
      padding: 15px 0
      height: auto

    &__burger
      display: flex

      & ~ .header__menu
        display: none

      &_pressed 

        & ~ .header__menu
          display: flex

      &:hover .svg-burger, &:focus .svg-burger
        opacity: 0.75
        
    
    &__logo
      grid-column: 2
      justify-self: center

    &__toxin
      display: none

    &__menu
      grid-column: 1 / -1
      flex-direction: column
      margin-left: 0

    &__reg-button
      display: none

    &__sign-in-button
      grid-row: 1
      grid-column: -2

